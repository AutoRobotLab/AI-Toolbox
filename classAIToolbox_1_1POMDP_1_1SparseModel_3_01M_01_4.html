<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AIToolbox: AIToolbox::POMDP::SparseModel&lt; M &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html">SparseModel&lt; M &gt;</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::POMDP::SparseModel&lt; M &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class represents a Partially Observable Markov Decision Process.  
 <a href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="POMDP_2SparseModel_8hpp_source.html">SparseModel.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for AIToolbox::POMDP::SparseModel&lt; M &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.png" usemap="#AIToolbox::POMDP::SparseModel_3C_20M_20_3E_map" alt=""/>
  <map id="AIToolbox::POMDP::SparseModel_3C_20M_20_3E_map" name="AIToolbox::POMDP::SparseModel&lt; M &gt;_map">
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a41c5cfe802011ad2d1f1f2a45a5e6d2a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a41c5cfe802011ad2d1f1f2a45a5e6d2a">ObservationTable</a> = <a class="el" href="namespaceAIToolbox.html#a92d1ba8e10537e996faadb65f9c1fa77">SparseMatrix3D</a></td></tr>
<tr class="separator:a41c5cfe802011ad2d1f1f2a45a5e6d2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a38f014a5f7247b6f7df846cf956be3ee"><td class="memTemplParams" colspan="2">template&lt;typename... Args&gt; </td></tr>
<tr class="memitem:a38f014a5f7247b6f7df846cf956be3ee"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a38f014a5f7247b6f7df846cf956be3ee">SparseModel</a> (size_t o, Args &amp;&amp;...parameters)</td></tr>
<tr class="memdesc:a38f014a5f7247b6f7df846cf956be3ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#a38f014a5f7247b6f7df846cf956be3ee">More...</a><br /></td></tr>
<tr class="separator:a38f014a5f7247b6f7df846cf956be3ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5225b9ebeedc13da22d85d3bb7604f33"><td class="memTemplParams" colspan="2">template&lt;typename ObFun , typename... Args, typename  = typename std::enable_if&lt;std::is_constructible&lt;double,decltype(std::declval&lt;ObFun&gt;()[0][0][0])&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:a5225b9ebeedc13da22d85d3bb7604f33"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a5225b9ebeedc13da22d85d3bb7604f33">SparseModel</a> (size_t o, ObFun &amp;&amp;of, Args &amp;&amp;...parameters)</td></tr>
<tr class="memdesc:a5225b9ebeedc13da22d85d3bb7604f33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#a5225b9ebeedc13da22d85d3bb7604f33">More...</a><br /></td></tr>
<tr class="separator:a5225b9ebeedc13da22d85d3bb7604f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a003a5b06c7cc0670a791876a30ac48b6"><td class="memTemplParams" colspan="2">template&lt;typename PM , typename  = typename std::enable_if&lt;is_model&lt;PM&gt;::value &amp;&amp; std::is_constructible&lt;M,PM&gt;::value, int&gt;::type&gt; </td></tr>
<tr class="memitem:a003a5b06c7cc0670a791876a30ac48b6"><td class="memTemplItemLeft" align="right" valign="top">&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a003a5b06c7cc0670a791876a30ac48b6">SparseModel</a> (const PM &amp;model)</td></tr>
<tr class="memdesc:a003a5b06c7cc0670a791876a30ac48b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy constructor from any valid <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> model.  <a href="#a003a5b06c7cc0670a791876a30ac48b6">More...</a><br /></td></tr>
<tr class="separator:a003a5b06c7cc0670a791876a30ac48b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca394d9a053cb0bd238009c077326fd0"><td class="memTemplParams" colspan="2">template&lt;typename ObFun &gt; </td></tr>
<tr class="memitem:aca394d9a053cb0bd238009c077326fd0"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#aca394d9a053cb0bd238009c077326fd0">setObservationFunction</a> (const ObFun &amp;of)</td></tr>
<tr class="memdesc:aca394d9a053cb0bd238009c077326fd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function replaces the SparseModel observation function with the one provided.  <a href="#aca394d9a053cb0bd238009c077326fd0">More...</a><br /></td></tr>
<tr class="separator:aca394d9a053cb0bd238009c077326fd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4462556d104c29c3bd92365014b4d99"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; size_t, size_t, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#ac4462556d104c29c3bd92365014b4d99">sampleSOR</a> (size_t s, size_t a) const </td></tr>
<tr class="memdesc:ac4462556d104c29c3bd92365014b4d99"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function samples the <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> for the specified state action pair.  <a href="#ac4462556d104c29c3bd92365014b4d99">More...</a><br /></td></tr>
<tr class="separator:ac4462556d104c29c3bd92365014b4d99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee98fb5b1028ed36b31517204e4cdb3d"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; size_t, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#aee98fb5b1028ed36b31517204e4cdb3d">sampleOR</a> (size_t s, size_t a, size_t s1) const </td></tr>
<tr class="memdesc:aee98fb5b1028ed36b31517204e4cdb3d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function samples the <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> for the specified state action pair.  <a href="#aee98fb5b1028ed36b31517204e4cdb3d">More...</a><br /></td></tr>
<tr class="separator:aee98fb5b1028ed36b31517204e4cdb3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dae896aa659c12be4a9013a6bdf5b84"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a6dae896aa659c12be4a9013a6bdf5b84">getObservationProbability</a> (size_t s1, size_t a, size_t o) const </td></tr>
<tr class="memdesc:a6dae896aa659c12be4a9013a6bdf5b84"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the stored observation probability for the specified state-action pair.  <a href="#a6dae896aa659c12be4a9013a6bdf5b84">More...</a><br /></td></tr>
<tr class="separator:a6dae896aa659c12be4a9013a6bdf5b84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af894f76bb2c16ee097c2193cd845e9f8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#af894f76bb2c16ee097c2193cd845e9f8">getObservationProbability</a> (const <a class="el" href="namespaceAIToolbox_1_1POMDP.html#a36a1f291220f616df8db3c5b807e51d4">Belief</a> &amp;b, size_t o, size_t a) const </td></tr>
<tr class="memdesc:af894f76bb2c16ee097c2193cd845e9f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function <em>computes</em> the probability of obtaining an observation given an action and an initial belief.  <a href="#af894f76bb2c16ee097c2193cd845e9f8">More...</a><br /></td></tr>
<tr class="separator:af894f76bb2c16ee097c2193cd845e9f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdf85a38522748163a4e4cac005a625"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceAIToolbox.html#ab00da5abb5609a6454852aa726d67161">SparseMatrix2D</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a7cdf85a38522748163a4e4cac005a625">getObservationFunction</a> (size_t a) const </td></tr>
<tr class="memdesc:a7cdf85a38522748163a4e4cac005a625"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the observation function for a given action.  <a href="#a7cdf85a38522748163a4e4cac005a625">More...</a><br /></td></tr>
<tr class="separator:a7cdf85a38522748163a4e4cac005a625"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ad13914fe007c240b81b1a363c38f09"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a0ad13914fe007c240b81b1a363c38f09">getO</a> () const </td></tr>
<tr class="memdesc:a0ad13914fe007c240b81b1a363c38f09"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of observations possible.  <a href="#a0ad13914fe007c240b81b1a363c38f09">More...</a><br /></td></tr>
<tr class="separator:a0ad13914fe007c240b81b1a363c38f09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9987f350094d0b332da7fe1df87ec48c"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a41c5cfe802011ad2d1f1f2a45a5e6d2a">ObservationTable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a9987f350094d0b332da7fe1df87ec48c">getObservationFunction</a> () const </td></tr>
<tr class="memdesc:a9987f350094d0b332da7fe1df87ec48c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the observation table for inspection.  <a href="#a9987f350094d0b332da7fe1df87ec48c">More...</a><br /></td></tr>
<tr class="separator:a9987f350094d0b332da7fe1df87ec48c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a4a018c8fac2d08e5fc48ac3dd2c963a5"><td class="memItemLeft" align="right" valign="top">std::istream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a4a018c8fac2d08e5fc48ac3dd2c963a5">operator&gt;&gt;</a> (std::istream &amp;is, <a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a38f014a5f7247b6f7df846cf956be3ee">SparseModel</a>&lt; M &gt; &amp;)</td></tr>
<tr class="memdesc:a4a018c8fac2d08e5fc48ac3dd2c963a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function implements input from stream for the POMDP::SparseModel class.  <a href="#a4a018c8fac2d08e5fc48ac3dd2c963a5">More...</a><br /></td></tr>
<tr class="separator:a4a018c8fac2d08e5fc48ac3dd2c963a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;typename M&gt;<br />
class AIToolbox::POMDP::SparseModel&lt; M &gt;</h3>

<p>This class represents a Partially Observable Markov Decision Process. </p>
<p>This class inherits from any valid <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> model type, so that it can use its base methods, and it builds from those. Templated inheritance was chosen to improve performance and keep code small, instead of doing composition.</p>
<p>A <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> is an <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> where the agent, at each timestep, does not know in which state it is. Instead, after each action is performed, it obtains an "observation", which offers some information as to which new state the agent has transitioned to. This observation is determined by an "observation function", that maps S'xAxO to a probability: the probability of obtaining observation O after taking action A and <em>landing</em> in state S'.</p>
<p>Since now its knowledge is imperfect, in order to represent the knowledge of the state it is currently in, the agent is thus forced to use Beliefs: probability distributions over states.</p>
<p>The way a Belief works is that, after each action and observation, the agent can reason as follows: given my previous Belief (distribution over states) that I think I was in, what is now the probability that I transitioned to any particular state? This new Belief can be computed from the Model, given that the agent knows the distributions of the transition and observation functions.</p>
<p>Turns out that a <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> can be viewed as an <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> with an infinite number of states, where each state is essentially a Belief. Since a Belief is a vector of real numbers, there are infinite of them, thus the infinite number of states. While POMDPs can be much more powerful than MDPs for modeling real world problems, where information is usually not perfect, it turns out that this infinite-state property makes them so much harder to solve perfectly, and their solutions much more complex.</p>
<p>A <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> solution is composed by several policies, which apply in different ranges of the Belief space, and suggest different actions depending on the observations received by the agent at each timestep. The values of those policies can be, in the same way, represented as a number of value vectors (called alpha vectors in the literature) that apply in those same ranges of the Belief space. Each alpha vector is somewhat similar to an <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> ValueFunction.</p>
<p>The difference between this class and the POMDP::Model class is that this class stores observations in a sparce matrix. This results in a possibly slower access to individual probabilities, but immeasurably speeds up computation with some classes of planning algorithms in case the number of possible observations is very small with respect to the total theoretic observation space of SxAxO. It also of course incredibly reduces memory consumption in such cases, which may also improve speed by effect of improved caching.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>The particular <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> type that we want to extend. </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a41c5cfe802011ad2d1f1f2a45a5e6d2a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">using AIToolbox::POMDP::SparseModel&lt; M &gt;::<a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a41c5cfe802011ad2d1f1f2a45a5e6d2a">ObservationTable</a> =  <a class="el" href="namespaceAIToolbox.html#a92d1ba8e10537e996faadb65f9c1fa77">SparseMatrix3D</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a38f014a5f7247b6f7df846cf956be3ee"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<div class="memtemplate">
template&lt;typename... Args&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::POMDP::SparseModel&lt; M &gt;::SparseModel </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<p>This constructor initializes the observation function so that all actions will return observation 0.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Args</td><td>All types of the parent constructor arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>The number of possible observations the agent could make. </td></tr>
    <tr><td class="paramname">parameters</td><td>All arguments needed to build the parent Model. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a5225b9ebeedc13da22d85d3bb7604f33"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<div class="memtemplate">
template&lt;typename ObFun, typename... Args, typename &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::POMDP::SparseModel&lt; M &gt;::SparseModel </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ObFun &amp;&amp;&#160;</td>
          <td class="paramname"><em>of</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Args &amp;&amp;...&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<p>This constructor takes an arbitrary three dimensional container and tries to copy its contents into the observations table.</p>
<p>The container needs to support data access through operator[]. In addition, the dimensions of the container must match the ones provided as arguments both directly (o) and indirectly (s,a), in the order s, a, o.</p>
<p>This is important, as this constructor DOES NOT perform any size checks on the external containers.</p>
<p>Internal values of the containers will be converted to double, so these conversions must be possible.</p>
<p>In addition, the observation container must contain a valid transition function. </p><dl class="section see"><dt>See also</dt><dd>transitionCheck()</dd>
<dd>
<a class="el" href="namespaceAIToolbox.html#ad910375dbc82dfa1e526938ca3406841" title="Copies a 3d container into another 3d container. ">copyTable3D()</a></dd></dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ObFun</td><td>The external observations container type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">o</td><td>The number of possible observations the agent could make. </td></tr>
    <tr><td class="paramname">of</td><td>The observation probability table. </td></tr>
    <tr><td class="paramname">parameters</td><td>All arguments needed to build the parent Model. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a003a5b06c7cc0670a791876a30ac48b6"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<div class="memtemplate">
template&lt;typename PM, typename &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::POMDP::SparseModel&lt; M &gt;::SparseModel </td>
          <td>(</td>
          <td class="paramtype">const PM &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy constructor from any valid <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> model. </p>
<p>This allows to copy from any other model. A nice use for this is to convert any model which computes probabilities on the fly into an POMDP::SparseModel where probabilities are all stored for fast access. Of course such a solution can be done only when the number of states, actions and observations is not too big.</p>
<p>Of course this constructor is available only if the underlying Model allows to be constructed too.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">PM</td><td>The type of the other model. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The model that needs to be copied. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0ad13914fe007c240b81b1a363c38f09"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">size_t AIToolbox::POMDP::SparseModel&lt; M &gt;::getO </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the number of observations possible. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of observations. </dd></dl>

</div>
</div>
<a class="anchor" id="a7cdf85a38522748163a4e4cac005a625"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="namespaceAIToolbox.html#ab00da5abb5609a6454852aa726d67161">SparseMatrix2D</a> &amp; AIToolbox::POMDP::SparseModel&lt; M &gt;::getObservationFunction </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the observation function for a given action. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a</td><td>The action requested.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The observation function for the input action. </dd></dl>

</div>
</div>
<a class="anchor" id="a9987f350094d0b332da7fe1df87ec48c"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a38f014a5f7247b6f7df846cf956be3ee">SparseModel</a>&lt; M &gt;::<a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a41c5cfe802011ad2d1f1f2a45a5e6d2a">ObservationTable</a> &amp; AIToolbox::POMDP::SparseModel&lt; M &gt;::getObservationFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the observation table for inspection. </p>
<dl class="section return"><dt>Returns</dt><dd>The rewards table. </dd></dl>

</div>
</div>
<a class="anchor" id="a6dae896aa659c12be4a9013a6bdf5b84"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::POMDP::SparseModel&lt; M &gt;::getObservationProbability </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>o</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the stored observation probability for the specified state-action pair. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s1</td><td>The final state of the transition. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed in the transition. </td></tr>
    <tr><td class="paramname">o</td><td>The recorded observation for the transition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The probability of the specified observation. </dd></dl>

</div>
</div>
<a class="anchor" id="af894f76bb2c16ee097c2193cd845e9f8"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::POMDP::SparseModel&lt; M &gt;::getObservationProbability </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceAIToolbox_1_1POMDP.html#a36a1f291220f616df8db3c5b807e51d4">Belief</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>o</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function <em>computes</em> the probability of obtaining an observation given an action and an initial belief. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">b</td><td>The initial belief state. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed. </td></tr>
    <tr><td class="paramname">o</td><td>The resulting observation.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The probability of obtaining the specified observation. </dd></dl>

</div>
</div>
<a class="anchor" id="aee98fb5b1028ed36b31517204e4cdb3d"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; size_t, double &gt; AIToolbox::POMDP::SparseModel&lt; M &gt;::sampleOR </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function samples the <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> for the specified state action pair. </p>
<p>This function samples the model for simulated experience. The transition, observation and reward functions are used to produce, from the state, action and new state inserted as arguments, a possible new observation and reward. The observation and rewards are picked so that they are consistent with the specified new state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The state that needs to be sampled. </td></tr>
    <tr><td class="paramname">a</td><td>The action that needs to be sampled. </td></tr>
    <tr><td class="paramname">s1</td><td>The resulting state of the s,a transition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing a new observation and reward. </dd></dl>

</div>
</div>
<a class="anchor" id="ac4462556d104c29c3bd92365014b4d99"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; size_t, size_t, double &gt; AIToolbox::POMDP::SparseModel&lt; M &gt;::sampleSOR </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function samples the <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> for the specified state action pair. </p>
<p>This function samples the model for simulated experience. The transition, observation and reward functions are used to produce, from the state action pair inserted as arguments, a possible new state with respective observation and reward. The new state is picked from all possible states that the <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> allows transitioning to, each with probability equal to the same probability of the transition in the model. After a new state is picked, an observation is sampled from the observation function distribution, and finally the reward is the corresponding reward contained in the reward function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The state that needs to be sampled. </td></tr>
    <tr><td class="paramname">a</td><td>The action that needs to be sampled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing a new state, observation and reward. </dd></dl>

</div>
</div>
<a class="anchor" id="aca394d9a053cb0bd238009c077326fd0"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<div class="memtemplate">
template&lt;typename ObFun &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::POMDP::SparseModel&lt; M &gt;::setObservationFunction </td>
          <td>(</td>
          <td class="paramtype">const ObFun &amp;&#160;</td>
          <td class="paramname"><em>of</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function replaces the SparseModel observation function with the one provided. </p>
<p>The container needs to support data access through operator[]. In addition, the dimensions of the containers must match the ones provided as arguments (for three dimensions: s,a,o, in this order).</p>
<p>This is important, as this function DOES NOT perform any size checks on the external containers.</p>
<p>Internal values of the container will be converted to double, so these conversions must be possible.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ObFun</td><td>The external observations container type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">of</td><td>The external observations container. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a4a018c8fac2d08e5fc48ac3dd2c963a5"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::istream&amp; operator&gt;&gt; </td>
          <td>(</td>
          <td class="paramtype">std::istream &amp;&#160;</td>
          <td class="paramname"><em>is</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classAIToolbox_1_1POMDP_1_1SparseModel_3_01M_01_4.html#a38f014a5f7247b6f7df846cf956be3ee">SparseModel</a>&lt; M &gt; &amp;&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This function implements input from stream for the POMDP::SparseModel class. </p>
<p>Note that as all other input function, it does not actually change the input model if the reading fails.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>The underlying <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> model. Needs to have operator&lt;&lt; implemented. </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">is</td><td>The input stream. </td></tr>
    <tr><td class="paramname">m</td><td>The model to write into.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The input stream. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/POMDP/<a class="el" href="POMDP_2SparseModel_8hpp_source.html">SparseModel.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Nov 18 2016 10:28:21 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
