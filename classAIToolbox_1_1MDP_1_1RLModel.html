<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>AIToolbox: AIToolbox::MDP::RLModel Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">An library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Friends</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html">RLModel</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAIToolbox_1_1MDP_1_1RLModel-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::MDP::RLModel Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class models <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> as a Markov Decision Process.  
 <a href="classAIToolbox_1_1MDP_1_1RLModel.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="RLModel_8hpp_source.html">RLModel.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a12607e8546fa692df7525bdca1360a99"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a12607e8546fa692df7525bdca1360a99">TransitionTable</a> = <a class="el" href="namespaceAIToolbox.html#a7fa914363e6f779a2ba9f92ea654b90a">Table3D</a></td></tr>
<tr class="separator:a12607e8546fa692df7525bdca1360a99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2d8ab1bad71739ae4753b24f02ff949"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ab2d8ab1bad71739ae4753b24f02ff949">RewardTable</a> = <a class="el" href="namespaceAIToolbox.html#a7fa914363e6f779a2ba9f92ea654b90a">Table3D</a></td></tr>
<tr class="separator:ab2d8ab1bad71739ae4753b24f02ff949"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a4ce07a49150f2cb8f3bd88c63e0a48aa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a4ce07a49150f2cb8f3bd88c63e0a48aa">RLModel</a> (const <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html">Experience</a> &amp;exp, double discount=1.0, bool <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a74c2a3f11bc73662451c1313cbf5b8ff">sync</a>=false)</td></tr>
<tr class="memdesc:a4ce07a49150f2cb8f3bd88c63e0a48aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor using previous <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>.  <a href="#a4ce07a49150f2cb8f3bd88c63e0a48aa">More...</a><br/></td></tr>
<tr class="separator:a4ce07a49150f2cb8f3bd88c63e0a48aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab276df7bbe738daac2d2848887d1c55d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ab276df7bbe738daac2d2848887d1c55d">setDiscount</a> (double d)</td></tr>
<tr class="memdesc:ab276df7bbe738daac2d2848887d1c55d"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets a new discount factor for the <a class="el" href="classAIToolbox_1_1MDP_1_1Model.html" title="This class represents a Markov Decision Process. ">Model</a>.  <a href="#ab276df7bbe738daac2d2848887d1c55d">More...</a><br/></td></tr>
<tr class="separator:ab276df7bbe738daac2d2848887d1c55d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74c2a3f11bc73662451c1313cbf5b8ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a74c2a3f11bc73662451c1313cbf5b8ff">sync</a> ()</td></tr>
<tr class="memdesc:a74c2a3f11bc73662451c1313cbf5b8ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function syncs the whole <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>.  <a href="#a74c2a3f11bc73662451c1313cbf5b8ff">More...</a><br/></td></tr>
<tr class="separator:a74c2a3f11bc73662451c1313cbf5b8ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb24cfbe03abce48f69af22005d1e544"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#aeb24cfbe03abce48f69af22005d1e544">sync</a> (size_t s, size_t a)</td></tr>
<tr class="memdesc:aeb24cfbe03abce48f69af22005d1e544"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function syncs a state action pair in the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>.  <a href="#aeb24cfbe03abce48f69af22005d1e544">More...</a><br/></td></tr>
<tr class="separator:aeb24cfbe03abce48f69af22005d1e544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04567aef1073cc3efe89001a8ca40ba1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a04567aef1073cc3efe89001a8ca40ba1">sync</a> (size_t s, size_t a, size_t s1)</td></tr>
<tr class="memdesc:a04567aef1073cc3efe89001a8ca40ba1"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function syncs a state action pair in the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> in the fastest possible way.  <a href="#a04567aef1073cc3efe89001a8ca40ba1">More...</a><br/></td></tr>
<tr class="separator:a04567aef1073cc3efe89001a8ca40ba1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1af54141bc9297bd7b7a2fb5c49fb3dc"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; size_t, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a1af54141bc9297bd7b7a2fb5c49fb3dc">sampleSR</a> (size_t s, size_t a) const </td></tr>
<tr class="memdesc:a1af54141bc9297bd7b7a2fb5c49fb3dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function samples the <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> for the specified state action pair.  <a href="#a1af54141bc9297bd7b7a2fb5c49fb3dc">More...</a><br/></td></tr>
<tr class="separator:a1af54141bc9297bd7b7a2fb5c49fb3dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35e24732f6a0305bebf0390095033a6"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ac35e24732f6a0305bebf0390095033a6">getS</a> () const </td></tr>
<tr class="memdesc:ac35e24732f6a0305bebf0390095033a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of states of the world.  <a href="#ac35e24732f6a0305bebf0390095033a6">More...</a><br/></td></tr>
<tr class="separator:ac35e24732f6a0305bebf0390095033a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad170524c6e54bd4ddba5a8fdd61c8301"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ad170524c6e54bd4ddba5a8fdd61c8301">getA</a> () const </td></tr>
<tr class="memdesc:ad170524c6e54bd4ddba5a8fdd61c8301"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the number of available actions to the agent.  <a href="#ad170524c6e54bd4ddba5a8fdd61c8301">More...</a><br/></td></tr>
<tr class="separator:ad170524c6e54bd4ddba5a8fdd61c8301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a686d3563ec6788dda8419912524dbf7f"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a686d3563ec6788dda8419912524dbf7f">getDiscount</a> () const </td></tr>
<tr class="memdesc:a686d3563ec6788dda8419912524dbf7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set discount factor.  <a href="#a686d3563ec6788dda8419912524dbf7f">More...</a><br/></td></tr>
<tr class="separator:a686d3563ec6788dda8419912524dbf7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13b31a7232309800fee0a852e894fd7b"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html">Experience</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a13b31a7232309800fee0a852e894fd7b">getExperience</a> () const </td></tr>
<tr class="memdesc:a13b31a7232309800fee0a852e894fd7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function enables inspection of the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> of the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a>.  <a href="#a13b31a7232309800fee0a852e894fd7b">More...</a><br/></td></tr>
<tr class="separator:a13b31a7232309800fee0a852e894fd7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45a87f7b9f3a19bb116dc8740bfd81ed"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a45a87f7b9f3a19bb116dc8740bfd81ed">getTransitionProbability</a> (size_t s, size_t a, size_t s1) const </td></tr>
<tr class="memdesc:a45a87f7b9f3a19bb116dc8740bfd81ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the stored transition probability for the specified transition.  <a href="#a45a87f7b9f3a19bb116dc8740bfd81ed">More...</a><br/></td></tr>
<tr class="separator:a45a87f7b9f3a19bb116dc8740bfd81ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95c5ecd83821b095b7b1c5a133c1fff8"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a95c5ecd83821b095b7b1c5a133c1fff8">getExpectedReward</a> (size_t s, size_t a, size_t s1) const </td></tr>
<tr class="memdesc:a95c5ecd83821b095b7b1c5a133c1fff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the stored expected reward for the specified transition.  <a href="#a95c5ecd83821b095b7b1c5a133c1fff8">More...</a><br/></td></tr>
<tr class="separator:a95c5ecd83821b095b7b1c5a133c1fff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f1f379a0d9b53ed20ca0bd9c7ef9d27"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a12607e8546fa692df7525bdca1360a99">TransitionTable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a8f1f379a0d9b53ed20ca0bd9c7ef9d27">getTransitionFunction</a> () const </td></tr>
<tr class="memdesc:a8f1f379a0d9b53ed20ca0bd9c7ef9d27"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the transition table for inspection.  <a href="#a8f1f379a0d9b53ed20ca0bd9c7ef9d27">More...</a><br/></td></tr>
<tr class="separator:a8f1f379a0d9b53ed20ca0bd9c7ef9d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af63af52a08faf75b1b8065d0da59975a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ab2d8ab1bad71739ae4753b24f02ff949">RewardTable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#af63af52a08faf75b1b8065d0da59975a">getRewardFunction</a> () const </td></tr>
<tr class="memdesc:af63af52a08faf75b1b8065d0da59975a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the rewards table for inspection.  <a href="#af63af52a08faf75b1b8065d0da59975a">More...</a><br/></td></tr>
<tr class="separator:af63af52a08faf75b1b8065d0da59975a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8916478f374594156915359aa9b0d0d3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a8916478f374594156915359aa9b0d0d3">isTerminal</a> (size_t s) const </td></tr>
<tr class="memdesc:a8916478f374594156915359aa9b0d0d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns whether a given state is a terminal.  <a href="#a8916478f374594156915359aa9b0d0d3">More...</a><br/></td></tr>
<tr class="separator:a8916478f374594156915359aa9b0d0d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class models <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> as a Markov Decision Process. </p>
<p>Often an <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> is not known in advance. It is known that it can assume a certain set of states, and that a certain set of actions are available to the agent, but not much more. Thus, in these cases, the goal is not only to find out the best policy for the <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> we have, but at the same time learn the actual transition and reward functions of such a model. This task is called "reinforcement
learning".</p>
<p>This class helps with this. A naive approach to reinforcement learning is to keep track, for each action, of its results, and deduce transition probabilities and rewards based on the data collected in such a way. This class does just this.</p>
<p>This class normalizes an <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> object to produce a transition function and a reward function. The transition function is guaranteed to be a correct probability function, as in the sum of the probabilities of all transitions from a particular state and a particular action is always 1. Each instance is not directly synced with the supplied <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> object. This is to avoid possible overheads, as the user can optimize better depending on their use case. See <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a74c2a3f11bc73662451c1313cbf5b8ff" title="This function syncs the whole RLModel to the underlying Experience. ">sync()</a>.</p>
<p>A possible way to improve the data gathered using this class, is to artificially modify the data as to skew it towards certain distributions. This could be done if some knowledge of the model (even approximate) is known, in order to speed up the learning process. Another way is to assume that all transitions are possible, add data to support that claim, and simply wait until the averages converge to the true values. Another thing that can be done is to associate with each fake datapoint an high reward: this will skew the agent into trying out new actions, thinking it will obtained the high rewards. This is able to obtain automatically a good degree of exploration in the early stages of an episode. Such a technique is called "optimistic initialization".</p>
<p>Whether any of these techniques work or not can definitely depend on the model you are trying to approximate. Trying out things is good! </p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="ab2d8ab1bad71739ae4753b24f02ff949"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ab2d8ab1bad71739ae4753b24f02ff949">AIToolbox::MDP::RLModel::RewardTable</a> =  <a class="el" href="namespaceAIToolbox.html#a7fa914363e6f779a2ba9f92ea654b90a">Table3D</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a12607e8546fa692df7525bdca1360a99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a12607e8546fa692df7525bdca1360a99">AIToolbox::MDP::RLModel::TransitionTable</a> =  <a class="el" href="namespaceAIToolbox.html#a7fa914363e6f779a2ba9f92ea654b90a">Table3D</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a4ce07a49150f2cb8f3bd88c63e0a48aa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::MDP::RLModel::RLModel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html">Experience</a> &amp;&#160;</td>
          <td class="paramname"><em>exp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>discount</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sync</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor using previous <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>. </p>
<p>This constructor selects the <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> that will be used to learn an <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> <a class="el" href="classAIToolbox_1_1MDP_1_1Model.html" title="This class represents a Markov Decision Process. ">Model</a> from the data, and initializes internal <a class="el" href="classAIToolbox_1_1MDP_1_1Model.html" title="This class represents a Markov Decision Process. ">Model</a> data.</p>
<p>The user can choose whether he wants to directly sync the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>, or delay it for later.</p>
<p>In the latter case the default transition function defines a transition of probability 1 for each state to itself, no matter the action.</p>
<p>In general it would be better to add some amount of bias to the <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> so that when a new state-action pair is tried, the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> doesn't automatically compute 100% probability of transitioning to the resulting state, but smooths into it. This may depend on your problem though.</p>
<p>The default reward function is 0.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">exp</td><td>The base <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> of the model. </td></tr>
    <tr><td class="paramname">discount</td><td>The discount used in solving methods. </td></tr>
    <tr><td class="paramname">sync</td><td>Whether to sync with the <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> immediately or delay it. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad170524c6e54bd4ddba5a8fdd61c8301"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t AIToolbox::MDP::RLModel::getA </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the number of available actions to the agent. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of actions. </dd></dl>

</div>
</div>
<a class="anchor" id="a686d3563ec6788dda8419912524dbf7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::RLModel::getDiscount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set discount factor. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set discount factor. </dd></dl>

</div>
</div>
<a class="anchor" id="a95c5ecd83821b095b7b1c5a133c1fff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::RLModel::getExpectedReward </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the stored expected reward for the specified transition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The initial state of the transition. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed in the transition. </td></tr>
    <tr><td class="paramname">s1</td><td>The final state of the transition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The expected reward of the specified transition. </dd></dl>

</div>
</div>
<a class="anchor" id="a13b31a7232309800fee0a852e894fd7b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html">Experience</a>&amp; AIToolbox::MDP::RLModel::getExperience </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function enables inspection of the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> of the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> of the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="af63af52a08faf75b1b8065d0da59975a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#ab2d8ab1bad71739ae4753b24f02ff949">RewardTable</a>&amp; AIToolbox::MDP::RLModel::getRewardFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the rewards table for inspection. </p>
<dl class="section return"><dt>Returns</dt><dd>The rewards table. </dd></dl>

</div>
</div>
<a class="anchor" id="ac35e24732f6a0305bebf0390095033a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t AIToolbox::MDP::RLModel::getS </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the number of states of the world. </p>
<dl class="section return"><dt>Returns</dt><dd>The total number of states. </dd></dl>

</div>
</div>
<a class="anchor" id="a8f1f379a0d9b53ed20ca0bd9c7ef9d27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html#a12607e8546fa692df7525bdca1360a99">TransitionTable</a>&amp; AIToolbox::MDP::RLModel::getTransitionFunction </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the transition table for inspection. </p>
<dl class="section return"><dt>Returns</dt><dd>The rewards table. </dd></dl>

</div>
</div>
<a class="anchor" id="a45a87f7b9f3a19bb116dc8740bfd81ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::MDP::RLModel::getTransitionProbability </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the stored transition probability for the specified transition. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The initial state of the transition. </td></tr>
    <tr><td class="paramname">a</td><td>The action performed in the transition. </td></tr>
    <tr><td class="paramname">s1</td><td>The final state of the transition.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The probability of the specified transition. </dd></dl>

</div>
</div>
<a class="anchor" id="a8916478f374594156915359aa9b0d0d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool AIToolbox::MDP::RLModel::isTerminal </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns whether a given state is a terminal. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The state examined.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the input state is a terminal, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a1af54141bc9297bd7b7a2fb5c49fb3dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt;size_t, double&gt; AIToolbox::MDP::RLModel::sampleSR </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function samples the <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> for the specified state action pair. </p>
<p>This function samples the model for simulate experience. The transition and reward functions are used to produce, from the state action pair inserted as arguments, a possible new state with respective reward. The new state is picked from all possible states that the <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> allows transitioning to, each with probability equal to the same probability of the transition in the model. After a new state is picked, the reward is the corresponding reward contained in the reward function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The state that needs to be sampled. </td></tr>
    <tr><td class="paramname">a</td><td>The action that needs to be sampled.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing a new state and a reward. </dd></dl>

</div>
</div>
<a class="anchor" id="ab276df7bbe738daac2d2848887d1c55d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::RLModel::setDiscount </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>d</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets a new discount factor for the <a class="el" href="classAIToolbox_1_1MDP_1_1Model.html" title="This class represents a Markov Decision Process. ">Model</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">d</td><td>The new discount factor for the <a class="el" href="classAIToolbox_1_1MDP_1_1Model.html" title="This class represents a Markov Decision Process. ">Model</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a74c2a3f11bc73662451c1313cbf5b8ff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::RLModel::sync </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function syncs the whole <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>. </p>
<p>Since use cases in AI are very varied, one may not want to update its <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> for each single transition experienced by the agent. To avoid this we leave to the user the task of syncing between the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> and the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a>, as he/she sees fit.</p>
<p>After this function is run the transition and reward functions will accurately reflect the state of the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>. </p>

</div>
</div>
<a class="anchor" id="aeb24cfbe03abce48f69af22005d1e544"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::RLModel::sync </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function syncs a state action pair in the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>. </p>
<p>Since use cases in AI are very varied, one may not want to update its <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> for each single transition experienced by the agent. To avoid this we leave to the user the task of syncing between the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> and the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a>, as he/she sees fit.</p>
<p>This function updates a single state action pair with the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>. This function is offered to avoid having to recompute the whole <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> if the user knows that only few transitions have been experienced by the agent.</p>
<p>After this function is run the transition and reward functions will accurately reflect the state of the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> for the specified state action pair.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The state that needs to be synced. </td></tr>
    <tr><td class="paramname">a</td><td>The action that needs to be synced. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a04567aef1073cc3efe89001a8ca40ba1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::MDP::RLModel::sync </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>s1</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function syncs a state action pair in the <a class="el" href="classAIToolbox_1_1MDP_1_1RLModel.html" title="This class models Experience as a Markov Decision Process. ">RLModel</a> to the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> in the fastest possible way. </p>
<p>This function updates a state action pair given that the last increased transition in the underlying <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a> is the triplet s, a, s1. In addition, this function only works if it needs to add information from this single new point of information (if more has changed from the last sync, use sync(s,a) ). The performance boost that this function obtains increases with the increase of the number of states in the model.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s</td><td>The state that needs to be synced. </td></tr>
    <tr><td class="paramname">a</td><td>The action that needs to be synced. </td></tr>
    <tr><td class="paramname">s1</td><td>The final state of the transition that got updated in the <a class="el" href="classAIToolbox_1_1MDP_1_1Experience.html" title="This class keeps track of registered events and rewards. ">Experience</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/MDP/<a class="el" href="RLModel_8hpp_source.html">RLModel.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Jun 27 2014 02:41:54 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
