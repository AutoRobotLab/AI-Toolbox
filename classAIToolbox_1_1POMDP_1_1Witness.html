<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>AIToolbox: AIToolbox::POMDP::Witness Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AIToolbox
   </div>
   <div id="projectbrief">A library that offers tools for AI problem solving.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceAIToolbox.html">AIToolbox</a></li><li class="navelem"><a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a></li><li class="navelem"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html">Witness</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAIToolbox_1_1POMDP_1_1Witness-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AIToolbox::POMDP::Witness Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class implements the <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> algorithm.  
 <a href="classAIToolbox_1_1POMDP_1_1Witness.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Witness_8hpp_source.html">Witness.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae245a162b17965f9cef3552fb3297ffd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#ae245a162b17965f9cef3552fb3297ffd">Witness</a> (unsigned horizon, double epsilon)</td></tr>
<tr class="memdesc:ae245a162b17965f9cef3552fb3297ffd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Basic constructor.  <a href="#ae245a162b17965f9cef3552fb3297ffd">More...</a><br /></td></tr>
<tr class="separator:ae245a162b17965f9cef3552fb3297ffd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475a353d290529473781fa91b2602713"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#a475a353d290529473781fa91b2602713">setEpsilon</a> (double e)</td></tr>
<tr class="memdesc:a475a353d290529473781fa91b2602713"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function sets the epsilon parameter.  <a href="#a475a353d290529473781fa91b2602713">More...</a><br /></td></tr>
<tr class="separator:a475a353d290529473781fa91b2602713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc1a5a139599fd75bda2f8394b9c7028"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#afc1a5a139599fd75bda2f8394b9c7028">setHorizon</a> (unsigned h)</td></tr>
<tr class="memdesc:afc1a5a139599fd75bda2f8394b9c7028"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function allows setting the horizon parameter.  <a href="#afc1a5a139599fd75bda2f8394b9c7028">More...</a><br /></td></tr>
<tr class="separator:afc1a5a139599fd75bda2f8394b9c7028"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33b72a393595826d038e1d8ec314d3e7"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#a33b72a393595826d038e1d8ec314d3e7">getEpsilon</a> () const </td></tr>
<tr class="memdesc:a33b72a393595826d038e1d8ec314d3e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function will return the currently set epsilon parameter.  <a href="#a33b72a393595826d038e1d8ec314d3e7">More...</a><br /></td></tr>
<tr class="separator:a33b72a393595826d038e1d8ec314d3e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa98dd1a27140a85f39fecc3992ba3a9e"><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#aa98dd1a27140a85f39fecc3992ba3a9e">getHorizon</a> () const </td></tr>
<tr class="memdesc:aa98dd1a27140a85f39fecc3992ba3a9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns the currently set horizon parameter.  <a href="#aa98dd1a27140a85f39fecc3992ba3a9e">More...</a><br /></td></tr>
<tr class="separator:aa98dd1a27140a85f39fecc3992ba3a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad86d604271487c65c811314b0ea28d9b"><td class="memTemplParams" colspan="2">template&lt;typename M , typename  = typename std::enable_if&lt;is_model&lt;M&gt;::value&gt;::type&gt; </td></tr>
<tr class="memitem:ad86d604271487c65c811314b0ea28d9b"><td class="memTemplItemLeft" align="right" valign="top">std::tuple&lt; bool, <a class="el" href="namespaceAIToolbox_1_1POMDP.html#ab1cada9fef241e48a9d14d36cb61dabb">ValueFunction</a> &gt;&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#ad86d604271487c65c811314b0ea28d9b">operator()</a> (const M &amp;model)</td></tr>
<tr class="memdesc:ad86d604271487c65c811314b0ea28d9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function solves a POMDP::Model completely.  <a href="#ad86d604271487c65c811314b0ea28d9b">More...</a><br /></td></tr>
<tr class="separator:ad86d604271487c65c811314b0ea28d9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0089ec98bb5e637a04545b167d61286"><td class="memTemplParams" colspan="2">template&lt;typename ProjectionsRow &gt; </td></tr>
<tr class="memitem:af0089ec98bb5e637a04545b167d61286"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="namespaceAIToolbox_1_1POMDP.html#a3154731370885b97ddda7b1807e373dc">POMDP::VEntry</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html#af0089ec98bb5e637a04545b167d61286">crossSumBestAtBelief</a> (const ProjectionsRow &amp;projs, const size_t a, const <a class="el" href="namespaceAIToolbox_1_1POMDP.html#a36a1f291220f616df8db3c5b807e51d4">Belief</a> &amp;b)</td></tr>
<tr class="separator:af0089ec98bb5e637a04545b167d61286"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class implements the <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> algorithm. </p>
<p>This algorithm solves a <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> Model perfectly. It computes solutions for each horizon incrementally, every new solution building upon the previous one.</p>
<p>The <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> algorithm tries to avoid creating all possible cross-sums of the projected vectors. Instead, it relies on a proof that states that if a VEntry is suboptimal, then we can at least find a better one by modifying a single subtree.</p>
<p>Given this, the <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> algorithm starts off by finding a single optimal VEntry for a random belief. Then, using the theorem, it knows that if a better VEntry exists, then there must be at least one VEntry completely equal to the one we just found but for a subtree, and that one will be better. Thus, it adds to an agenda all possible variations of the found optimal VEntry.</p>
<p>From there, it examines each one of them, trying to look for a witness point. Once found, again it produces an optimal VEntry for that point and adds to the agenda all of its possible variations. VEntry which do not have any witness points are removed from the agenda.</p>
<p>In addition, <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> will not add to the agenda any VEntry which it has already added; it uses a set to keep track of which combinations of subtrees it has already tried. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae245a162b17965f9cef3552fb3297ffd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AIToolbox::POMDP::Witness::Witness </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>horizon</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>epsilon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Basic constructor. </p>
<p>This constructor sets the default horizon used to solve a POMDP::Model.</p>
<p>The epsilon parameter must be &gt;= 0.0, otherwise the constructor will throw an std::runtime_error. The epsilon parameter sets the convergence criterion. An epsilon of 0.0 forces <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> to perform a number of iterations equal to the horizon specified. Otherwise, <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> will stop as soon as the difference between two iterations is less than the epsilon specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The horizon chosen. </td></tr>
    <tr><td class="paramname">epsilon</td><td>The epsilon factor to stop the value iteration loop. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af0089ec98bb5e637a04545b167d61286"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ProjectionsRow &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceAIToolbox_1_1POMDP.html#a3154731370885b97ddda7b1807e373dc">POMDP::VEntry</a> AIToolbox::POMDP::Witness::crossSumBestAtBelief </td>
          <td>(</td>
          <td class="paramtype">const ProjectionsRow &amp;&#160;</td>
          <td class="paramname"><em>projs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>a</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceAIToolbox_1_1POMDP.html#a36a1f291220f616df8db3c5b807e51d4">Belief</a> &amp;&#160;</td>
          <td class="paramname"><em>b</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a33b72a393595826d038e1d8ec314d3e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double AIToolbox::POMDP::Witness::getEpsilon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function will return the currently set epsilon parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The currently set epsilon parameter. </dd></dl>

</div>
</div>
<a class="anchor" id="aa98dd1a27140a85f39fecc3992ba3a9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned AIToolbox::POMDP::Witness::getHorizon </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function returns the currently set horizon parameter. </p>
<dl class="section return"><dt>Returns</dt><dd>The current horizon. </dd></dl>

</div>
</div>
<a class="anchor" id="ad86d604271487c65c811314b0ea28d9b"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename M , typename &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; bool, <a class="el" href="namespaceAIToolbox_1_1POMDP.html#ab1cada9fef241e48a9d14d36cb61dabb">ValueFunction</a> &gt; AIToolbox::POMDP::Witness::operator() </td>
          <td>(</td>
          <td class="paramtype">const M &amp;&#160;</td>
          <td class="paramname"><em>model</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function solves a POMDP::Model completely. </p>
<p>This function is pretty expensive (as are possibly all <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> solvers). It generates for each new solved timestep the whole set of possible ValueFunctions, and prunes it incrementally, trying to reduce as much as possible the linear programming solves required.</p>
<p>This function returns a tuple to be consistent with <a class="el" href="namespaceAIToolbox_1_1MDP.html">MDP</a> solving methods, but it should always succeed.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">M</td><td>The type of <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> model that needs to be solved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">model</td><td>The <a class="el" href="namespaceAIToolbox_1_1POMDP.html">POMDP</a> model that needs to be solved.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing a boolean value specifying whether the specified epsilon bound was reached and the computed ValueFunction. </dd></dl>

</div>
</div>
<a class="anchor" id="a475a353d290529473781fa91b2602713"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::POMDP::Witness::setEpsilon </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>e</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function sets the epsilon parameter. </p>
<p>The epsilon parameter must be &gt;= 0.0, otherwise the constructor will throw an std::runtime_error. The epsilon parameter sets the convergence criterion. An epsilon of 0.0 forces <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> to perform a number of iterations equal to the horizon specified. Otherwise, <a class="el" href="classAIToolbox_1_1POMDP_1_1Witness.html" title="This class implements the Witness algorithm. ">Witness</a> will stop as soon as the difference between two iterations is less than the epsilon specified.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">e</td><td>The new epsilon parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afc1a5a139599fd75bda2f8394b9c7028"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AIToolbox::POMDP::Witness::setHorizon </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>h</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function allows setting the horizon parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">h</td><td>The new horizon parameter. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>include/AIToolbox/POMDP/Algorithms/<a class="el" href="Witness_8hpp_source.html">Witness.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 4 2017 15:14:44 for AIToolbox by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
